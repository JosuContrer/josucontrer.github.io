(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{81:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return p})),n.d(t,"metadata",(function(){return d})),n.d(t,"rightToc",(function(){return f})),n.d(t,"default",(function(){return v}));var o=n(2),r=n(6),i=n(0),a=n.n(i),l=n(82),c=n(85),u=n(84),s=Object(c.a)((function(){return a.a.createElement(u.a,{trigger:a.a.createElement("button",{type:"button",className:"button"},"Trigger 1"),position:"bottom center",closeOnDocumentClick:!0,nested:!0},a.a.createElement("div",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores dolor nulla animi, natus velit assumenda deserunt molestias",a.a.createElement(u.a,{trigger:a.a.createElement("button",{type:"button",className:"button"},"Trigger 2"),position:"bottom left",closeOnDocumentClick:!0,nested:!0},a.a.createElement("div",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores dolor nulla animi, natus velit assumenda deserunt",a.a.createElement(u.a,{trigger:a.a.createElement("button",{type:"button",className:"button"},"Trigger 3"),position:"top right",closeOnDocumentClick:!0,nested:!0},a.a.createElement("span",null," Popup content "))))))})),p={id:"nested-popup",slug:"nested-react-tooltip",hide_title:!0,sidebar_label:"Nested React Tooltip",title:"Nested React Tooltip",description:"A simple tooltip example with reactjs-popup, Nested Tooltip, all available position"},d={unversionedId:"nested-popup",id:"nested-popup",isDocsHomePage:!1,title:"Nested React Tooltip",description:"A simple tooltip example with reactjs-popup, Nested Tooltip, all available position",source:"@site/docs/nestedpopup.mdx",slug:"/nested-react-tooltip",permalink:"/nested-react-tooltip",editUrl:"https://github.com/yjose/reactjs-popup/edit/master/docs/docs/docs/nestedpopup.mdx",version:"current",sidebar_label:"Nested React Tooltip",sidebar:"someSidebar",previous:{title:"Controlled Popup",permalink:"/controlled-popup"},next:{title:"Js Styling",permalink:"/js-styling"}},f=[],m={rightToc:f};function v(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(o.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h1",{id:"nested-react-tooltip"},"Nested React Tooltip"),Object(l.b)("p",null,"Starting from v2 you need to add ",Object(l.b)("inlineCode",{parentName:"p"},"nested")," popup to make sure nested Modal/tooltips will work as expected"),Object(l.b)(s,{mdxType:"NestedToolTip"}),Object(l.b)("pre",null,Object(l.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),'import React from \'react\';\nimport Popup from \'reactjs-popup\';\n\nconst NestedToolTip = () => (\n  <Popup\n    trigger={<button className="button"> Trigger 1 </button>}\n    position="top center"\n    nested\n  >\n    <div>\n      Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores dolor\n      nulla animi, natus velit assumenda deserunt molestias\n      <Popup\n        trigger={<button className="button"> Trigger 2 </button>}\n        position="bottom left"\n        nested\n      >\n        <div>\n          Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores\n          dolor nulla animi, natus velit assumenda deserunt\n          <Popup\n            trigger={<button className="button"> Trigger 3 </button>}\n            position="top right"\n            nested\n          >\n            <span> Popup content </span>\n          </Popup>\n        </div>\n      </Popup>\n    </div>\n  </Popup>\n);\n')))}v.isMDXComponent=!0},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var o=n(0),r=n.n(o);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=r.a.createContext({}),s=function(e){var t=r.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=s(e.components);return r.a.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},f=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,a=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=s(n),f=o,m=p["".concat(a,".").concat(f)]||p[f]||d[f]||i;return n?r.a.createElement(m,l(l({ref:t},u),{},{components:n})):r.a.createElement(m,l({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=f;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var u=2;u<i;u++)a[u]=n[u];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},84:function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=n(20),a=n.n(i);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var c={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},u=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],s=function(e,t,n,o,r){var i=r.offsetX,a=r.offsetY,l=o?8:0,c=n.split(" "),u=e.top+e.height/2,s=e.left+e.width/2,p=t.height,d=t.width,f=u-p/2,m=s-d/2,v="",b="0%",g="0%";switch(c[0]){case"top":f-=p/2+e.height/2+l,v="rotate(180deg)  translateX(50%)",b="100%",g="50%";break;case"bottom":f+=p/2+e.height/2+l,v="rotate(0deg) translateY(-100%) translateX(-50%)",g="50%";break;case"left":m-=d/2+e.width/2+l,v=" rotate(90deg)  translateY(50%) translateX(-25%)",g="100%",b="50%";break;case"right":m+=d/2+e.width/2+l,v="rotate(-90deg)  translateY(-150%) translateX(25%)",b="50%"}switch(c[1]){case"top":f=e.top,b=e.height/2+"px";break;case"bottom":f=e.top-p+e.height,b=p-e.height/2+"px";break;case"left":m=e.left,g=e.width/2+"px";break;case"right":m=e.left-d+e.width,g=d-e.width/2+"px"}return{top:f="top"===c[0]?f-a:f+a,left:m="left"===c[0]?m-i:m+i,transform:v,arrowLeft:g,arrowTop:b}},p=function(e,t,n,o,r,i){var a=r.offsetX,l=r.offsetY,c={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},p=0,d=function(e){var t={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if("string"==typeof e){var n=document.querySelector(e);0,null!==n&&(t=n.getBoundingClientRect())}return t}(i),f=Array.isArray(n)?n:[n];for((i||Array.isArray(n))&&(f=[].concat(f,u));p<f.length;){var m={top:(c=s(e,t,f[p],o,{offsetX:a,offsetY:l})).top,left:c.left,width:t.width,height:t.height};if(!(m.top<=d.top||m.left<=d.left||m.top+m.height>=d.top+d.height||m.left+m.width>=d.left+d.width))break;p++}return c},d=0,f=Object(o.forwardRef)((function(e,t){var n=e.trigger,i=void 0===n?null:n,u=e.onOpen,s=void 0===u?function(){}:u,f=e.onClose,m=void 0===f?function(){}:f,v=e.defaultOpen,b=void 0!==v&&v,g=e.open,y=void 0===g?void 0:g,h=e.disabled,w=void 0!==h&&h,O=e.nested,E=void 0!==O&&O,j=e.closeOnDocumentClick,k=void 0===j||j,x=e.repositionOnResize,T=void 0===x||x,P=e.closeOnEscape,N=void 0===P||P,C=e.on,A=void 0===C?["click"]:C,L=e.contentStyle,D=void 0===L?{}:L,R=e.arrowStyle,S=void 0===R?{}:R,X=e.overlayStyle,M=void 0===X?{}:X,I=e.className,Y=void 0===I?"":I,z=e.position,B=void 0===z?"bottom center":z,F=e.modal,H=void 0!==F&&F,q=e.lockScroll,J=void 0!==q&&q,_=e.arrow,K=void 0===_||_,U=e.offsetX,W=void 0===U?0:U,G=e.offsetY,Q=void 0===G?0:G,V=e.mouseEnterDelay,Z=void 0===V?100:V,$=e.mouseLeaveDelay,ee=void 0===$?100:$,te=e.keepTooltipInside,ne=void 0!==te&&te,oe=e.children,re=Object(o.useState)(y||b),ie=re[0],ae=re[1],le=Object(o.useRef)(null),ce=Object(o.useRef)(null),ue=Object(o.useRef)(null),se=Object(o.useRef)(null),pe=Object(o.useRef)("popup-"+ ++d),de=!!H||!i,fe=Object(o.useRef)(0);Object(o.useLayoutEffect)((function(){return ie?(se.current=document.activeElement,xe(),Ee(),we()):Oe(),function(){clearTimeout(fe.current)}}),[ie]),Object(o.useEffect)((function(){"boolean"==typeof y&&(y?me():ve())}),[y,w]);var me=function(){ie||w||(ae(!0),setTimeout(s,0))},ve=function(){ie&&!w&&(ae(!1),de&&se.current.focus(),setTimeout(m,0))},be=function(e){null==e||e.stopPropagation(),ie?ve():me()},ge=function(){clearTimeout(fe.current),fe.current=setTimeout(me,Z)},ye=function(e){null==e||e.preventDefault(),be()},he=function(){clearTimeout(fe.current),fe.current=setTimeout(ve,ee)},we=function(){de&&J&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},Oe=function(){de&&J&&(document.getElementsByTagName("body")[0].style.overflow="auto")},Ee=function(){var e,t=null==ce||null===(e=ce.current)||void 0===e?void 0:e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),n=Array.prototype.slice.call(t)[0];null==n||n.focus()};Object(o.useImperativeHandle)(t,(function(){return{open:function(){me()},close:function(){ve()},toggle:function(){be()}}}));var je,ke,xe=function(){if(!de&&ie&&(null==le?void 0:le.current)&&(null==le?void 0:le.current)&&(null==ce?void 0:ce.current)){var e,t,n=le.current.getBoundingClientRect(),o=ce.current.getBoundingClientRect(),r=p(n,o,B,K,{offsetX:W,offsetY:Q},ne);if(ce.current.style.top=r.top+window.scrollY+"px",ce.current.style.left=r.left+window.scrollX+"px",K&&ue.current)ue.current.style.transform=r.transform,ue.current.style.setProperty("-ms-transform",r.transform),ue.current.style.setProperty("-webkit-transform",r.transform),ue.current.style.top=(null===(e=S.top)||void 0===e?void 0:e.toString())||r.arrowTop,ue.current.style.left=(null===(t=S.left)||void 0===t?void 0:t.toString())||r.arrowLeft}};je=ve,void 0===(ke=N)&&(ke=!0),Object(o.useEffect)((function(){if(ke){var e=function(e){"Escape"===e.key&&je()};return document.addEventListener("keyup",e),function(){ke&&document.removeEventListener("keyup",e)}}}),[je,ke]),function(e,t){void 0===t&&(t=!0),Object(o.useEffect)((function(){if(t){var n=function(t){if(9===t.keyCode){var n,o=null==e||null===(n=e.current)||void 0===n?void 0:n.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),r=Array.prototype.slice.call(o);if(1===r.length)return void t.preventDefault();var i=r[0],a=r[r.length-1];t.shiftKey&&document.activeElement===i?(t.preventDefault(),a.focus()):document.activeElement===a&&(t.preventDefault(),i.focus())}};return document.addEventListener("keydown",n),function(){t&&document.removeEventListener("keydown",n)}}}),[e,t])}(ce,ie&&de),function(e,t){void 0===t&&(t=!0),Object(o.useEffect)((function(){if(t){var n=function(){e()};return window.addEventListener("resize",n),function(){t&&window.removeEventListener("resize",n)}}}),[e,t])}(xe,T),function(e,t,n){void 0===n&&(n=!0),Object(o.useEffect)((function(){if(n){var o=function(n){var o=Array.isArray(e)?e:[e],r=!1;o.forEach((function(e){e.current&&!e.current.contains(n.target)||(r=!0)})),n.stopPropagation(),r||t()};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),function(){n&&(document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o))}}}),[e,t,n])}(i?[ce,le]:[ce],ve,k&&!E);var Te,Pe=function(){return r.a.createElement("div",Object.assign({},(e=de?c.popupContent.modal:c.popupContent.tooltip,t={className:"popup-content "+(""!==Y?Y.split(" ").map((function(e){return e+"-content"})).join(" "):""),style:l({},e,D,{pointerEvents:"auto"}),ref:ce,onClick:function(e){e.stopPropagation()}},!H&&A.indexOf("hover")>=0&&(t.onMouseEnter=ge,t.onMouseLeave=he),t),{key:"C",role:de?"dialog":"tooltip",id:pe.current}),K&&!de&&r.a.createElement("div",{ref:ue,style:c.popupArrow},r.a.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(""!==Y?Y.split(" ").map((function(e){return e+"-arrow"})).join(" "):""),viewBox:"0 0 32 16",style:l({position:"absolute"},S)},r.a.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),oe&&"function"==typeof oe?oe(ve,ie):oe);var e,t},Ne=!(A.indexOf("hover")>=0),Ce=de?c.overlay.modal:c.overlay.tooltip,Ae=[Ne&&r.a.createElement("div",{key:"O","data-testid":"overlay","data-popup":de?"modal":"tooltip",className:"popup-overlay "+(""!==Y?Y.split(" ").map((function(e){return e+"-overlay"})).join(" "):""),style:l({},Ce,M,{pointerEvents:k&&E||de?"auto":"none"}),onClick:k&&E?ve:void 0,tabIndex:-1},de&&Pe()),!de&&Pe()];return r.a.createElement(r.a.Fragment,null,function(){for(var e={key:"T",ref:le,"aria-describedby":pe.current},t=Array.isArray(A)?A:[A],n=0,o=t.length;n<o;n++)switch(t[n]){case"click":e.onClick=be;break;case"right-click":e.onContextMenu=ye;break;case"hover":e.onMouseEnter=ge,e.onMouseLeave=he;break;case"focus":e.onFocus=ge,e.onBlur=he}if("function"==typeof i){var a=i(ie);return!!i&&r.a.cloneElement(a,e)}return!!i&&r.a.cloneElement(i,e)}(),ie&&a.a.createPortal(Ae,(null===(Te=document.getElementById("popup-root"))&&((Te=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(Te)),Te)))}));t.a=f},85:function(e,t,n){"use strict";var o=n(0),r=n.n(o);n(48),n(49);t.a=function(e){return function(){return r.a.createElement("div",{className:"example-warper"},r.a.createElement(e,null))}}}}]);